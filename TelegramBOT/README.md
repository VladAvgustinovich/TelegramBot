## Telegram Chatty Bot (TypeScript)

Минимальный Telegram-бот на TypeScript, который:

- **Текст:** отправляет сообщение в OpenAI Chat API (ChatGPT) и возвращает исправленный текст
- **Голос:** скачивает `ogg/opus` голосовое сообщение, расшифровывает его в текст через OpenAI Whisper API и также возвращает исправленную версию

### Требования

- Node.js >= 18
- Токены: `TELEGRAM_BOT_TOKEN` и `OPENAI_API_KEY`

### Установка

1. Склонируйте проект или поместите файлы в папку
2. Создайте `.env` из примера и вставьте ключи:

```bash
cp .env.example .env
# затем отредактируйте .env и вставьте ваши ключи
```

3. Установите зависимости и запустите:

```bash
npm install
npm run start
```

### Мини‑приложение (Web App)

- Укажите ссылку на своё HTTPS‑приложение в `.env`:

```
WEB_APP_URL=https://your-domain-or-ngrok/app
```

- Бот добавит кнопку «Open App» в меню и пришлёт инлайн‑кнопку при `/start` или `/app`.


### Как получить ключи

- `TELEGRAM_BOT_TOKEN`: у [BotFather](https://t.me/BotFather)
- `OPENAI_API_KEY`: в кабинете OpenAI

### Как пользоваться

- Отправьте боту обычный текст — получите исправленную версию
- Отправьте боту голосовое сообщение — получите расшифровку и её исправленный вариант

### Технологии

- `telegraf` — Telegram Bot API
- `openai` — ChatGPT и Whisper API
- `dotenv` — загрузка `.env`
- `axios` — скачивание аудиофайла по ссылке

### Замечания

- Код максимально простой и без лишних зависимостей
- Обработка ошибок минимальная, без сложных сценариев

### Если OpenAI недоступен в вашем регионе (403 unsupported_country_region_territory)

Можно указать прокси и/или альтернативный `baseURL` в `.env`:

```
# например, http(s) прокси
PROXY_URL=http://127.0.0.1:8080

# при необходимости альтернативный совместимый endpoint
# OPENAI_BASE_URL=https://api.openai.com/v1
```

После этого перезапустите бота: `npm run start`.



